---
title: 异步
categories: 
- ECMASCRIPT
---

# 异步

js是单线程的，按理说只能执行同步任务，但是由于`event loop`机制，所以可以实现异步功能


先要实现异步，只有这几种方式

- setTimeout()/setInerval()
- dom事件绑定
- 某些webApis(比如XmlHttpRequest)

因为在`event loop`中，想要实现异步任务，只能交给`js或者webapi提供的接口`，这些接口调用其他线程，才可以实现异步

所以，回调是无法实现异步的，回调仅仅是用来绑定一个事件的

同理，promise仅仅是改进了回调的写法，所以也无法实现真正的异步

# 异步操作的模式

- 回调函数
- 事件监听
- 发布/订阅
- promise

# 回调函数
最常见的执行异步操作的方式
优点:最常见，最好理解
缺点:回调地狱,高度耦合,无法维护


# 事件监听
最常见的执行异步操作的方式
优点:好理解，去耦合
缺点:运行流程不清晰(比如，绑定了两个函数，哪个先执行都不知道，)


# 发布/订阅(观察者模式)
这个和事件监听很相似，但是比他高级
所有的程序运行权利都交由'信号中心'决定，可以从整体上把握整个程序的运行流程
优点:去耦合，运行流程清晰
缺点:不好理解



# 异步操作的流程控制