---
title: 流程
categories: 
- EVENT
---

# event system 

事件系统是浏览器提供的系统,

这个系统涉及到

- eventObject
- eventTarget
- DOMtree


#### event对象

某些用户操作，某些api等等，都可能会产生`event对象`

event对象上面会挂载`相应的信息`

#### eventTarget

event 对象会被派发给eventTarget

eventTarget也就是event的目标

eventTarget一般是绑定了对应的DOM对象

> Event objects are dispatched to an event target.


# 流程

- 1、capture phase
- 2、target phase 
- 3、bubble phase

只要是派发event，都会按照这三个`flow`走

![](./images/eventflow.svg)


- 浏览器生成一个eventObject
- 根据eventTarget，确定`flow path`(dom元素组成的流动路径)
- 根据`flow path`传递这个eventObject
- flow path走完，找到eventTarget
- 然后依据事件类型决定是否要`reverse flow`
- 如果要原路返回，则继续将eventObject在`reverse flow path`上传递


也就是说，任何一个事件，都会按照这个流程走


这个过程就是事件流

# listener


这里不涉及到`listener`,即使没有listener，触发某些事件后，浏览器也会生出对应的eventObject，按照这个流程传递

可以看到，`flow path`上的dom元素，可能会有`两次eventObject传递的机会`

addEventListener()可以设置`传递阶段`





describes event flow through a tree structure.


Event objects are dispatched to an event target. 


: capture phase, target phase and bubble phase.


The event object arrives at the event object’s event target. 
