---
title: 架构
categories: 
- NODEJS
---



### C

c语言不需要架构，针对不同的平台，生成可执行二进制文件，运行即可


### C++

C++是C的扩展，在C的基础上实现了OOP等功能，

也需要编译成对应的可执行二进制文件


### JAVA

JAVA的思路和C++不一样

C++不同平台上都需要重新编译才能确保程序正常执行，因为每个平台的环境都不一样，想要确保正常，必须得重新编译

JAVA思路不一样，而是提供了一层封装，`JAVA虚拟机`

java所有的生成的程序都是直接在JAVA虚拟机上跑，只要安装对应平台的虚拟机，就可以实现`一次编译，多次运行`的思想

### PHP

上面三种都是编译型的语言，每次运行，都必须编译成二进制文件才可以

结构简单

PHP是一种动态语言，不用编译，只需要一条一条解释执行即可

所以所有的动态语言必须要有解释器，将自己的语言，解释成对应的命令，执行即可

PHP的解释器是C写的，所以本质上PHP代码就是对C的封装

再者，PHP也不用考虑多平台，直接使用C的多平台处理方式即可，即针对不同的平台生成适合当前平台的编译器

结构和java类似，只不过java虚拟机运行的是二进制文件，而PHP解释器运行的PHP ASCII文本

比JAVA多了解释这一步，所以PHP效率没有JAVA高


### NODEJS


nodejs 的架构比PHP更复杂

nodejs使用了js作为了开发语言，而PHP则自己开发了一套语言

自己开发的语言，直接使用自己开发的解释器解释执行即可

但是nodejs则使用了js作为自己的开发语言，那么nodejs也需要一个自己的js语言解释器，因为有现成的，所以直接用了V8

但是还有一个问题，PHP解释完成后直接执行‘C语句’了，C是可以操作底层的

V8本身是一个js运行环境，没有任何操作底层资源的能力

nodejs要做的就是

- 1、提供底层操作的接口,它使用的libuv
- 2、提供一个 v8和libuv的桥梁，让v8运行的js可以操作底层，这个就是NODE BINDINGS

也就是说，nodejs几乎没有自己写的代码，而是将几个开源的库拼凑到一起而已

之所以这样做，是因为nodejs的思想和其他语言不一样，它追求的是大并发，高性能

nodejs使用了`异步`,`事件驱动`来实现这些目标，所以选择的语言，底层库都是支持异步，事件驱动的




