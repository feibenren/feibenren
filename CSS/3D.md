---
title: 3D
categories: 
- CSS
---

# 2d和3d的区别

[https://jsbin.com/togumar/11/edit?html,css,output](https://jsbin.com/togumar/11/edit?html,css,output)

# 3d相关的属性

- transform-style 
- perspective 
- perspective-origin

这三个属性都是给`transform元素的父元素`设置的

# perspective

指定观察者与z=0平面的距离

这个观察者，就是透视图中的透视点




# perspective的理解

perspective设置的是透视点


css 3d涉及到的空间，分为5个部分

```
1、显示器平面背面空间(z<0)
↓
2、显示器平面(z=0)
↓
3、显示器前面空间----透视点的空间(0<z<perspective)
↓
4、透视点(z=perspective)
↓
5、透视点之后的空间(z>perspective)
```

使用`translateZ()`举例,假定`perspective:500px`

默认所有的元素都是在`z=0`这个空间的

想要在平面空间呈现立体元素，必须需要使用透视，这个不必多说

如果`translateZ(100px)`,则表示沿着Z轴正方向推动100px

根据透视原理，显示出来的样式 必须变大

同理`translateZ(-100px)`,则必须变小

---------------
如果`translateZ(500px)`,在3d空间中依然成立，这个没问题

但是这个时候表示的是将元素推动到了透视点，那么这个时候只能满屏显示元素了

如果`translateZ(501px)`,那么推动到了透视点之外的位置，这个时候就无法显示了，浏览器就不会渲染

--------------------
perspective的大小问题

`perspective:500px`到底表示什么意思

透视点距离屏幕500px

如果显示器宽度是1920px，实际宽度是30cm

那么这个透视点就是在显示器的`正中心`，垂直显示器`(30*500/1920)cm`的`虚拟点`



# perspetive-origin

perspetive-origin用来指定透视点的坐标


有时候一个透视点满足不了需求，可以指定多个透视点

# 多透视图

多个透视点示例[https://jsbin.com/pohudul/edit?html,css,output](https://jsbin.com/pohudul/edit?html,css,output)



# preserve-3d

transform-style:preserve-3d表示的是`让子元素在3d空间变换`

-----------------------

那这个和`perspective`有什么关系？

perspective设置后，子元素也是呈现出了3d的感觉，不设置的话，反而没有3d的感觉


`transform-style:preserve-3d`有时候设置了，也没有3d的感觉

是这样的，perspective设置后，就有了透视点，所有的子元素都会按照`透视画法`来渲染元素

> 在一个平面上展示三维的物体，只能只用`透视画法`


transform-style:preserve-3d则表示的是让子元素在3d空间中`变换`，这个变换的空间，和`是不是按照透视画法来显示`没有任何关系

没有设置perspective，设置了preserve-3d，的时候，子元素会在3d空间变换，但是没有按照透视画法来显示，所以看上去还是平面的，这就是有时候失灵的原因


这里有一个例子，可以看看

[https://jsbin.com/miwuyef/16/edit?html,css,output](https://jsbin.com/miwuyef/16/edit?html,css,output)




---------------------

还有一个现象，设置了`perspective`，但是`transform-style:flat`，子元素为什么看上去也是3d的？

[https://jsbin.com/kitabaj/edit?html,css,output](https://jsbin.com/kitabaj/edit?html,css,output)


没找到具体规定，根据实现的效果，元素一旦设置了perspective，那么这个元素的transform-style就设置为`preserve-3d`了，手动设置无效










# demos

- [正方体](https://jsbin.com/sigikeh/edit?html,css,output)
- [图片垂直翻转](https://jsbin.com/kutohef/14/edit?html,css,output)
- [四张图片翻转](https://jsbin.com/zefizox/edit?html,css,output)
- [多图片立体滚动](https://jsbin.com/jukifil/edit?html,css,output)

- [球,标签](https://jsbin.com/vicuni/65/edit?css,js,output)
- [球](https://jsbin.com/yaqomun/10/edit?html,css,output)


# links
- [https://aotu.io/notes/2016/05/06/CSS3-3D-Animation/index.html](https://aotu.io/notes/2016/05/06/CSS3-3D-Animation/index.html)
- [http://www.alloyteam.com/2012/11/css3-3d-transform/](http://www.alloyteam.com/2012/11/css3-3d-transform/)
- [https://www.zhangxinxu.com/wordpress/2012/09/css3-3d-transform-perspective-animate-transition/](https://www.zhangxinxu.com/wordpress/2012/09/css3-3d-transform-perspective-animate-transition/)