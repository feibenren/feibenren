---
title: for 中的let
categories: 
- ES6
---
```
for (var i = 0; i < 3; i++) {
    setTimeout(() => {
        console.log(i)
    }, 1000);    
}
//3,3,3

for (let i = 0; i < 3; i++) {
    setTimeout(() => {
        console.log(i)
    }, 1000);    
}
//0,1,2
```
## 为什么
for循环还有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域



形如 for (let x...) 的循环在每次迭代时都为 x创建新的绑定

循环执行多次并且保持了一个闭包，那么每将捕捉变量的不同值作 循环执行多次并且保持了一个闭包


而不是所有闭包都捕捉循环变量的同一个值。 为副本，而不是所有闭包都捕捉循环变量的同一个值

