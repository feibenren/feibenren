---
title: 单线程模型
categories: 
- JAVASCRIPT
---


# 单线程模型

js的`执行环境`是单线程的叫做主线程(JS引擎线程)，与之配合的线程就很多,比如

- 异步请求线程
- 定时器线程
- 事件触发线程

`事件触发线程`管理着一个`任务队列`




流程

- 1、主线程将执行同步任务和异步任务
- 2、如果遇到同步任务，就直接执行
- 3、如果遇到异步任务，就设置一个事件对应异步任务，交由`事件触发线程`管理
- 4、异步任务(由其他线程执行)执行完成后,`事件触发线程`将回调函数压入任务队列
- 5、主线程执行完同步任务后，开始处理任务队列中的回调函数

> 事件循环机制的核心是：JS引擎线程和事件触发线程



如果当前没有任何消息，queue.waitForMessage() 会同步地等待消息到达




# links

- [https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/EventLoop](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/EventLoop)